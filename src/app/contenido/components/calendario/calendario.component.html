<div class="mb-5">
  <app-menu></app-menu>
</div>
<div class="row d-flex align-items-center justify-content-center p-5" style="margin: 100px">
  <div class="wrapper-calendar">
    <div class="header-calendar">
      <div>
        <button (click)="changeMonth(-1)" class="btn-prev"><i class="bi bi-arrow-left-square"
            style="font-size: 2rem; color: #1d736a;"></i></button>
      </div>
      <h1>{{ dateSelect | date: "MMMM, yyyy" }}</h1>
      <div>
        <button (click)="changeMonth(1)" class="btn-next">
          <i class="bi bi-arrow-right-square" style="font-size: 2rem; color: #1d736a;"></i>
        </button>
      </div>
    </div>
    <ol>
      <li *ngFor="let day of week" class="day-name">
        {{ day | slice: 0:3 }}
      </li>

      <li (click)="clickDay(day)" class="dias" [style.gridColumnStart]="first ? day?.indexWeek : 'auto'"
        *ngFor="let day of monthSelect; let first = first">
        <div class="d-flex flex-column elemento">

          <div class="d-flex flex-row cabecera">
            <div *ngFor="let dia of this.dias">
              <p *ngIf="dia.nombre == day.nombre && dia.value == day.value && dia.indexWeek == day.indexWeek"><i
                  class="bi bi-asterisk"></i></p>
            </div>
          </div>

          <div class="cuerpo">
            <span>{{day.value}}</span>
          </div>

        </div>
      </li>
    </ol>
  </div>


</div>
<p-dialog header="Datos recogidos" [(visible)]="mostrarDatos" [modal]="true" [maximizable]="true" [style]="{width: '50vw', height:'100vh'}" >


  <div>

    <ng-container *ngFor="let items of datos" class="my-3">
        <table p-datatable>
      
          <tr p-datatable-header>
              <ng-container p-datatble-thead *ngFor="let item of items | keyvalue">
                <th p-datatable-column *ngIf="item.key != 'paciente' && item.key != 'fecha'  && item.key != 'fechaInicio'  && item.key != 'id'" class="">{{item.key}}</th>
              </ng-container>
          </tr>
        
          <tr p-datatable-tbody>
            <ng-container *ngFor="let item of items | keyvalue">
          <td p-datatable-column *ngIf="item.key != 'paciente' && item.key != 'fecha'  && item.key != 'fechaInicio'  && item.key != 'id'" >{{item.value}}</td>
           </ng-container>
          </tr>
        </table>
      </ng-container>
  </div>

</p-dialog>
